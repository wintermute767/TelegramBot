# TelegramBot
Представленный код на языке Golang позволяет создать телеграмм бота для получения прогноза погоды.

Данный телеграмм бот имеет следующий функционал:
1) Пользователь в текстовом сообщении указывает город или его часть (на русской раскладке и английской).
Если удается однозначно определить город в ответном сообщении высылается текущая температура и подробности погоды,
а также кнопка с возможностью получения предсказания погоды на неделю.

2) В случае, если не удалось однозначно определить город по присланному сообщению,
выдает список названий городов в виде активных кнопок для пункта 1.

3) В случае успешного установления города и получения результатов погоды производиться запись в базу данных:
в отдельную таблицу "lastsearch" добавляется запись с уникальным ID пользователя и названием города.
Если запись в таблице для данного пользователя существует, то название города перезаписываются, оставляя лишь последний результат для каждого пользователя.

4) Пользователю доступна команда "/w", которая обращается к базе данных и получает название города для данного пользователя.
Полученное название города автоматически направляется в пункт 1 для получения результатов погоды.

5) Все входящие сообщения от пользователя и исходящие от телеграмм бота сообщения записываются в базу данных в отдельной таблице "logs" для последующего анализа.

В данной реализации программы для получения результатов запроса погоды используется парсинг html страницы сайта погоды "www.accuweather.com".
В качестве СУБД используется PostgreSQL.

Также представленная программа имеет широкие возможности для расширения. Реализованы golang интерфесы единого функционала:
- для обработки различных типов входящих сообщений, для возможности добавления новых типов запросов к телеграмм боту;
- для реализации запросов к другим сайтам погоды помимо "www.accuweather.com" в случае его недоступности;
- для использования различных СУБД для хранения данных. 
